# Mosaic Life - Production Environment Configuration Template
# Copy this to .env.production and fill in the values from AWS deployment

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012  # From: aws sts get-caller-identity

# Domain Configuration
DOMAIN=mosaiclife.me
FRONTEND_URL=https://mosaiclife.me
BACKEND_URL=https://backend.mosaiclife.me

# Cognito Configuration (from CDK output or Secrets Manager)
COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX  # From CDK output: UserPoolId
COGNITO_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXX  # From CDK output: UserPoolClientId
COGNITO_REGION=us-east-1
COGNITO_DOMAIN=mosaic-prod-123456789012  # From CDK output: UserPoolDomain
COGNITO_ISSUER=https://cognito-idp.us-east-1.amazonaws.com/us-east-1_XXXXXXXXX

# OAuth URLs (constructed from Cognito domain)
COGNITO_OAUTH_URL=https://mosaic-prod-123456789012.auth.us-east-1.amazoncognito.com
COGNITO_REDIRECT_URI=https://mosaiclife.me/auth/callback
COGNITO_LOGOUT_URI=https://mosaiclife.me

# S3 Configuration
MEDIA_BUCKET=mosaic-prod-media-123456789012  # From CDK output: MediaBucketName
BACKUP_BUCKET=mosaic-prod-backups-123456789012

# SNS/SQS Configuration
DOMAIN_EVENTS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:mosaic-prod-domain-events  # From CDK output
EVENTS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/mosaic-prod-events

# Database Configuration (to be configured separately)
DATABASE_URL=postgresql://user:password@host:5432/mosaiclife
DATABASE_POOL_SIZE=20
DATABASE_SSL_MODE=require

# Redis Configuration (optional, for sessions/cache)
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=

# Application Configuration
NODE_ENV=production
PORT=8080
LOG_LEVEL=info
ENABLE_PLUGINS=false
ENABLE_AI_CHAT=true
ENABLE_SEARCH=true

# Session Configuration
# Session expiry in seconds (7 days = 604800, 30 days = 2592000)
SESSION_SECRET_KEY=  # REQUIRED: Generate with: openssl rand -base64 32
SESSION_COOKIE_MAX_AGE=604800  # 7 days
SESSION_COOKIE_DOMAIN=.mosaiclife.me  # For cross-subdomain auth

# Security
COOKIE_SECRET=GENERATE_RANDOM_SECRET_HERE  # openssl rand -base64 32
SESSION_TIMEOUT=3600  # 1 hour
CSRF_SECRET=GENERATE_RANDOM_SECRET_HERE

# CORS Configuration
CORS_ORIGINS=https://mosaiclife.me,https://frontend.mosaiclife.me

# Feature Flags
FEATURE_SOCIAL_LOGIN=true
FEATURE_MFA=true
FEATURE_PLUGINS=false

# Monitoring & Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
SENTRY_DSN=  # Optional: Sentry error tracking

# LiteLLM / AI Configuration (if using)
LITELLM_URL=http://litellm:4000
LITELLM_API_KEY=

# Email Configuration (for notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@mosaiclife.me
